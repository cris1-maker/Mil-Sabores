<!DOCTYPE html>
<!-- Define el tipo de documento como HTML5 -->
<html lang="es">
<!-- Indica que el contenido está en español -->

<head>
  <meta charset="UTF-8" />
  <!-- Codificación de caracteres (soporta tildes/ñ correctamente) -->

  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <!-- Hace que la página sea responsiva en móviles (escala a ancho del dispositivo) -->

  <!-- ===== Materialize CSS (framework de estilos) ===== -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
  <!-- Carga los íconos de Google (para <i class="material-icons">) -->

  <link href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" rel="stylesheet"/>
  <!-- Carga la hoja de estilos principal de Materialize (botones, selects, etc.) -->

  <!-- ===== Tus estilos principales ===== -->
  <link rel="stylesheet" href="registro.css"/>
  <!-- Tu archivo CSS con el look & feel del sitio (fondo, wrapper, etc.) -->

  <title>Login / Registro</title>
  <!-- Título que aparece en la pestaña del navegador -->

  <!-- ===== Ajustes rápidos en línea (complementan a registro.css) ===== -->
  <style>
    /* Oculta todas las "pestañas" por defecto... */
    .tab-pane { display: none; }
    /* ...y muestra la pestaña cuyo aria-hidden sea "false" */
    .tab-pane[aria-hidden="false"] { display: block; }

    /* Contenedor central con scroll si el contenido crece */
    main.auth-main {
      flex: 1; /* ocupa alto disponible entre navbar y footer */
      display: flex;
      justify-content: center;   /* centra horizontalmente el wrapper */
      align-items: flex-start;   /* alinea arriba (no centrado vertical) */
      padding: 24px 16px;        /* respiración interna */
      overflow: auto;            /* permite hacer scroll si es necesario */
      min-height: calc(100vh - 140px); /* asegura alto mínimo visible */
    }

    /* Cuadro del formulario (login/registro) */
    .wrapper {
      position: static;           /* que fluya en el documento (no absolute) */
      margin: 16px auto 24px;     /* separaciones y centrado */
      max-width: 560px;           /* ancho máximo del cuadro */
      width: 100%;                /* ocupa todo el ancho disponible hasta 560px */
      overflow: visible;          /* que los dropdowns no se recorten */
    }

    /* Legibilidad de términos en negro (sobre inputs claros) */
    .conditions, .conditions label, .conditions span { color:#000; }
    /* Color del check (nativo) en negro */
    .conditions input[type="checkbox"] { accent-color:#000; }

    /* Selects de región/comuna con fondo claro y bordes */
    #regRegion, #regComuna {
      background:#fff; 
      color:#000; 
      border:1px solid rgba(0,0,0,.15); 
      border-radius:8px; 
      height:44px; 
      padding:0 12px;
    }
  </style>
</head>

<body>
  <!-- ===== BARRA SUPERIOR (NAVBAR) ===== -->
  <nav class="transparent z-depth-5">
    <!-- "transparent" usa tu fondo; "z-depth-5" da sombra elevada -->
    <div class="nav-wrapper container">
      <!-- "container" centra el contenido y limita el ancho -->
      <a href="index.html" class="brand-logo">Mil Sabores</a>
      <!-- Logo que lleva a la página principal -->

      <ul id="nav-mobile" class="right hide-on-med-and-down">
        <!-- Menú a la derecha, oculto en pantallas pequeñas -->
        <li><a href="#">About us</a></li>
        <!-- Enlace de ejemplo -->
        <li><a href="#">Menu</a></li>
        <!-- Enlace de ejemplo -->
        <li><a href="#">Location</a></li>
        <!-- Enlace de ejemplo -->
        <li>
          <a class="btn-medium transparent">
            <i class="material-icons">add_shopping_cart</i>
            <!-- Ícono de carrito (no funcional aquí, solo visual) -->
          </a>
        </li>
        <li>
          <a class="btn-medium transparent" id="btnLoginSup">
            <i class="material-icons">account_circle</i>
            <!-- Botón/ícono para abrir el cuadro de login (lo maneja JS) -->
          </a>
        </li>
      </ul>
    </div>
  </nav>

  <!-- ===== CONTENIDO PRINCIPAL ===== -->
  <main class="auth-main">
    <!-- Wrapper = el “cuadro” que contiene Login y Registro -->
    <div class="wrapper" id="authWrapper">

      <!-- Botón/área para cerrar el cuadro -->
      <span class="icon-close">
        <i class="material-icons">close</i>
        <!-- Ícono de Material para cerrar -->
      </span>

      <!-- ===== Pestaña: LOGIN ===== -->
      <div class="login-form tab-pane" id="tab-login" aria-hidden="false">
        <!-- aria-hidden="false" => esta pestaña se ve al cargar -->
        <form id="form-login" novalidate>
          <!-- "novalidate" desactiva mensajes nativos intrusivos; validamos por JS -->
          <h1>Login</h1>

          <!-- Campo: Email de usuario -->
          <div class="input-box">
            <input id="loginEmail" type="email" placeholder="Email" required>
            <!-- type="email" aplica validación nativa de formato de correo -->
          </div>

          <!-- Campo: Password -->
          <div class="input-box">
            <input id="loginPassword" type="password" placeholder="Password" required autocomplete="current-password">
            <!-- Sin pattern en login: solo se compara con lo guardado al registrarse -->
            <!-- autocomplete="current-password" ayuda al autocompletado del navegador -->
          </div>

          <!-- Recordar y enlace de olvido (visual) -->
          <div class="remember-forgot">
            <label><input type="checkbox"> Remember me</label>
            <!-- Checkbox informativo -->
            <a href="#">Forgot password?</a>
            <!-- Enlace de ejemplo (podrías enlazar a recuperación real) -->
          </div>

          <!-- Botón para enviar el login -->
          <button type="submit" class="btnLogin">Login</button>

          <!-- Enlace para cambiar a la pestaña Registro -->
          <div class="login">
            <p>Don't have an account?
              <a href="#" class="register-link" data-target="tab-register">Register</a>
              <!-- data-target indica a qué pestaña cambiar (lo usa tu JS) -->
            </p>
          </div>
        </form>
      </div>

      <!-- ===== Pestaña: REGISTRO ===== -->
      <div class="register-form tab-pane" id="tab-register" aria-hidden="true">
        <!-- aria-hidden="true" => oculta hasta que el usuario elija "Register" -->
        <form id="form-register" novalidate>
          <!-- Validaremos manualmente con JS para mensajes claros -->
          <h1>Register</h1>

          <!-- Campo: Nombre completo -->
          <div class="input-box">
            <input id="regNombre" type="text" placeholder="Nombre completo" required>
          </div>

          <!-- Campo: Email -->
          <div class="input-box">
            <input
              id="regEmail"
              type="email"
              placeholder="Email"
              required
              pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
              title="Ingresa un correo válido (ej: nombre@dominio.cl)">
            <!-- pattern valida formato de email; title muestra ayuda si falla -->
          </div>

          <!-- Campo: Confirmar Email (debe coincidir con regEmail) -->
          <div class="input-box">
            <input id="regEmail2" type="email" placeholder="Confirmar Email" required
                   title="Repite el mismo correo">
          </div>

          <!-- Campo: Teléfono chileno (acepta +56 9 12345678 / +56912345678 / 912345678, etc.) -->
          <div class="input-box">
            <input
              id="regTelefono"
              type="tel"
              placeholder="Teléfono"
              required
              pattern="^\s*(?:\+?56[\s-]?)?9(?:[\s-]?\d){8}\s*$"
              title="Ej: +56 9 12345678, +56912345678 o 912345678"
              inputmode="tel"
              autocomplete="tel">
            <!-- pattern tolerante para formatos con/ sin +56 y con/ sin espacios/guiones -->
          </div>

          <!-- Select: Región (opciones predefinidas) -->
          <div class="input-box">
            <select id="regRegion" required>
              <option value="" disabled selected>Seleccionar región</option>
              <option value="RM">Región Metropolitana</option>
              <option value="V">Valparaíso</option>
              <option value="VIII">Biobío</option>
              <option value="X">Los Lagos</option>
              <option value="II">Antofagasta</option>
            </select>
            <!-- Materialize transformará este <select> en un dropdown estilizado -->
          </div>

          <!-- Select: Comuna (se llena dinámicamente según región) -->
          <div class="input-box">
            <select id="regComuna" required>
              <option value="" disabled selected>Seleccionar comuna</option>
            </select>
            <!-- Tu JS repoblará las <option> según la región elegida -->
          </div>

          <!-- Lista/chips informativos de comunas disponibles (opcional/visual) -->
          <div id="listaCiudades" style="margin:8px 2px 0 2px; font-size:.95rem;"></div>

          <!-- Campo: Contraseña (con requisitos mínimos) -->
          <div class="input-box">
            <input
              id="regPassword"
              type="password"
              placeholder="Password"
              required
              pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$"
              title="Debe tener al menos 8 caracteres, 1 mayúscula, 1 minúscula y 1 número">
            <!-- pattern fuerza 8+, 1 minúscula, 1 mayúscula y 1 número -->
          </div>

          <!-- Campo: Confirmación de contraseña (debe coincidir) -->
          <div class="input-box">
            <input id="regPassword2" type="password" placeholder="Confirmar Password" required
                   title="Repite la misma contraseña">
          </div>

          <!-- Checkbox de términos y condiciones -->
          <div class="conditions">
            <label>
              <input id="regTerms" type="checkbox" required>
              <span>Acepto los términos y condiciones</span>
            </label>
            <!-- required: el usuario debe marcarlo para poder registrarse -->
          </div>

          <!-- Botón de registro -->
          <button type="submit" class="btnRegister">Registrar</button>

          <!-- Enlace para volver a la pestaña de Login -->
          <div class="login-register">
            <p>¿Ya tienes cuenta?
              <a href="#" class="login-link" data-target="tab-login">Login</a>
              <!-- data-target="tab-login" indica que hay que mostrar la pestaña de login -->
            </p>
          </div>
        </form>
      </div>
    </div>
  </main>

  <!-- ===== PIE DE PÁGINA ===== -->
  <footer class="page-footer transparent z-depth-5">
    <!-- Transparente con sombra; contenido centrado -->
    <div class="container center-align">
      <p>&copy; 2025 Pasteleria Mil sabores. Todos los derechos reservados.</p>
    </div>
  </footer>

  <!-- ===== SCRIPTS ===== -->
  <script src="script.js"></script>
  <!-- Tu script opcional (si lo usas para abrir/cerrar el wrapper con animaciones) -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  <!-- JS de Materialize: NECESARIO para que los <select> funcionen y se vean -->

  <script src="validacion.js"></script>
</body>
</html>
